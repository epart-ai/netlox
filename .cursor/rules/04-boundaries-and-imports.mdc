---
description: Boundaries & Imports — one-way deps, server/client separation
globs: ["**/*.{ts,tsx,js,jsx}"]
alwaysApply: true
---

- **의존 방향 고정**: `shared → entities → features → widgets → (pages|processes|app) → app-router`만 허용. 역의존 금지.
- **서버/클라이언트 분리**: 클라이언트 컴포넌트가 서버 전용 모듈(DB, `server-only`, `use server`)을 임포트 금지.
- **규칙 강제**: `eslint-plugin-boundaries`, `server-only`로 경계를 도구적으로 강제.
- **경로 별칭**: `@/*` 사용, 도메인 경계 넘어선 상대 경로 임포트 지양.

Note:

- `app`은 FSD app 레이어(`src/app/**`)로 비즈니스 오케스트레이션만 담당하며, Next.js 라우팅 파일(`page.tsx`, `route.ts`, `layout.tsx`)을 두지 않습니다.
- Next.js App Router는 루트 `app/**`만 사용합니다.

Do:

- 새 모듈 추가 시 계층 위치/소유권을 먼저 정의하고, 상위→하위 방향만 임포트합니다.
- 공용 유틸은 `shared/`에 두되, 비즈니스 규칙은 두지 않습니다.

Don't:

- 클라이언트에서 서버 전용 파일을 임포트하거나, 엔티티가 피처를 참조하지 않습니다.
